# アニメーション webp を作成する

そもそもの目的は markdown に動画を埋め込みたいということでした。 mpeg や webm だと外部リンクになってしまうので、画像のようにインラインで表示したいということです。

だったら画像にすればいいのでは、ということでアニメーション webp です。今更 gif はないだろうと。

例 :

    ffmpeg -ss 3:30 -t 6 -i input.mp4 -loop 0 -vf scale=640:-1 -quality 100 output.webp

## 各種パラメータの覚書

`-ss 3:30`
: 3:30 の位置からスタート。

`-t 6`
: 6 秒間だけ変換。

上記2つは `-i` より前に書くと入力ファイルを対象にする。

`-loop 0`
: 無限ループ。

`-vf scale=640:-1`
: 横幅640で高さ自動(元ファイルのアスペクト比保持)。

`-quality 100`
: 画質を下げてもエンコード時間が短くなるだけでファイルサイズはあまり変わらない。画質はがっつり落ちるので 100 一択。